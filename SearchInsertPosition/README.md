# LeetCode é¡Œè§£ç­†è¨˜ #35ï¼šSearch Insert Positionï¼ˆSwiftï¼‰

---

## ğŸ“‚ é¡Œç›®åˆ†é¡

- é¡Œå‹ï¼šArray æ“ä½œã€æœå°‹é¡ï¼ˆSearchï¼‰
- é›£åº¦ï¼šEasy
- ç·´ç¿’é‡é»ï¼š
  - ç·´ç¿’ç”¨ for loop æ‰¾æ’å…¥é»ï¼ˆç·šæ€§æœå°‹ï¼‰
  - ç·´ç¿’ Binary Searchï¼ˆäºŒåˆ†æœå°‹æ³•ï¼‰ç¸®å°æœå°‹ç¯„åœ
  - ç†è§£ã€Œæ’å…¥æ’åºé‚è¼¯ã€èˆ‡ index å°æ‡‰

---

## ğŸ“ é¡Œç›®é€£çµ  
[https://leetcode.com/problems/search-insert-position](https://leetcode.com/problems/search-insert-position)

---

## â“ é¡Œç›®èªªæ˜

çµ¦å®šä¸€å€‹ **å‡åºæ’åˆ—çš„æ•´æ•¸é™£åˆ— `nums`**ï¼Œèˆ‡ä¸€å€‹æ•´æ•¸ `target`ï¼Œ  
è«‹æ‰¾å‡º `target` æ‡‰è©²æ’å…¥çš„ä½ç½®ï¼Œä½¿å¾—é™£åˆ—ä»ä¿æŒæœ‰åºã€‚

- å¦‚æœ `target` å·²ç¶“å­˜åœ¨ï¼Œå›å‚³å®ƒçš„ index
- å¦‚æœä¸å­˜åœ¨ï¼Œå›å‚³å®ƒæ‡‰è©²æ’å…¥çš„ä½ç½® index

---

## âœ… ç¯„ä¾‹

```swift
Input: nums = [1,3,5,6], target = 5
Output: 2  // 5 å·²å­˜åœ¨ï¼Œä½æ–¼ index 2

Input: nums = [1,3,5,6], target = 2
Output: 1  // 2 ä¸å­˜åœ¨ï¼Œæ‡‰æ’å…¥åœ¨ index 1

Input: nums = [1,3,5,6], target = 7
Output: 4  // 7 ä¸å­˜åœ¨ï¼Œæ‡‰æ’å…¥åœ¨æœ«å°¾ index 4
```

---

## ğŸ’¡ è§£æ³•ä¸€ï¼šæš´åŠ›æ³•ï¼ˆç·šæ€§èµ°è¨ªï¼‰

### 1â€“1 è§£æ³•æ€è·¯

1. å¾é ­èµ°è¨ª nums é™£åˆ—ï¼Œé€ä¸€æª¢æŸ¥æ¯å€‹æ•¸å­—
2. æ‰¾åˆ°ç¬¬ä¸€å€‹ã€Œå¤§æ–¼ç­‰æ–¼ targetã€çš„å…ƒç´ 
3. é€™å€‹å…ƒç´ çš„ index å°±æ˜¯ target æ‡‰æ’å…¥çš„ä½ç½®

---

### 1â€“2 è§£æ³•æ ¸å¿ƒæµç¨‹

- æ‰¾åˆ°ç¬¬ä¸€å€‹ >= target çš„æ•¸å­— â†’ å›å‚³å®ƒçš„ä½ç½®ï¼›è‹¥éƒ½æ‰¾ä¸åˆ°ï¼Œå°±æ”¾æœ€å¾Œä¸€æ ¼ã€‚

| æ­¥é©Ÿ | èªªæ˜ |
|------|------|
| 1ï¸âƒ£ | é€ä¸€èµ°è¨ª `nums` é™£åˆ— |
| 2ï¸âƒ£ | æ‰¾åˆ°ç¬¬ä¸€å€‹ `nums[i] >= target` |
| 3ï¸âƒ£ | å›å‚³é€™å€‹ `i`ï¼Œå³ç‚ºæ’å…¥é» |
| 4ï¸âƒ£ | è‹¥æ‰¾ä¸åˆ°ä»£è¡¨ `target` æœ€å¤§ â†’ å›å‚³ `nums.count` |

--- 

### 1-3 ç¨‹å¼ç¢¼

```swift
// MARK: - è§£æ³•ä¸€ï¼šæš´åŠ›æ³•ï¼ˆç·šæ€§èµ°è¨ªï¼‰
// é€ä¸€èµ°è¨ªé™£åˆ—ï¼Œæ‰¾åˆ°ç¬¬ä¸€å€‹å¤§æ–¼ç­‰æ–¼ target çš„ä½ç½®

/// çµ¦å®šå·²æ’åºé™£åˆ— nums èˆ‡ä¸€å€‹ targetï¼Œå›å‚³ target æ‡‰è©²æ’å…¥åœ¨ nums ä¸­çš„ index
func searchInsert(_ nums: [Int], _ target: Int) -> Int {
    
    // é€ä¸€æª¢æŸ¥ nums ä¸­çš„å…ƒç´ 
    for i in 0..<nums.count {
        
        // å¦‚æœæ‰¾åˆ°ç¬¬ä¸€å€‹ >= target çš„å€¼ï¼Œä»£è¡¨é€™å€‹ä½ç½®å°±æ˜¯æ’å…¥é»
        if nums[i] >= target {
            return i
        }
    }
    
    // å¦‚æœèµ°å®Œæ•´å€‹é™£åˆ—éƒ½æ²’é‡åˆ°æ›´å¤§çš„æ•¸å­—
    // ä»£è¡¨ target æ¯”æ‰€æœ‰æ•¸å­—éƒ½å¤§ â†’ æ’åœ¨æœ€å¾Œä¸€ä½
    return nums.count
}
```

---

### 1-4 Swift èªæ³•è¤‡ç¿’

- `for i in 0..<nums.count`ï¼š èµ°è¨ªé™£åˆ—çš„æ¯ä¸€å€‹ indexï¼ˆå¾ 0 åˆ° count - 1ï¼‰

- `nums[i] >= target`ï¼š åˆ¤æ–·ç›®å‰æ•¸å­—æ˜¯å¦å¤§æ–¼æˆ–ç­‰æ–¼ target

- `return nums.count`ï¼š å¦‚æœæ•´å€‹é™£åˆ—éƒ½æ¯” target å°ï¼Œtarget æ‡‰æ’å…¥åœ¨æœ€å¾Œä¸€å€‹ä½ç½®ï¼ˆé™£åˆ—é•·åº¦å³ç‚ºæ–° indexï¼‰

---

### 1â€“5 åœ–è§£æ‹†è§£ï¼šç‚ºä»€éº¼å›å‚³ indexï¼Ÿç‚ºä»€éº¼å¯èƒ½æ˜¯ nums.countï¼Ÿ

ç›®æ¨™æ˜¯æ‰¾åˆ°ä¸€å€‹ä½ç½® `i`ï¼Œè®“ `target` æ’å…¥å¾Œï¼Œ`nums` é™£åˆ—ä»ç„¶ä¿æŒéå¢é †åºã€‚

#### ğŸ”¢ ç¯„ä¾‹ä¸€ï¼štarget å­˜åœ¨æ–¼é™£åˆ—ä¸­

```swift
nums = [1, 3, 5, 6]
target = 5
```

| index | å€¼ | åˆ¤æ–·æ¢ä»¶         |
|-------|----|------------------|
| 0     | 1  | 1 < 5 â†’ ç¹¼çºŒ     |
| 1     | 3  | 3 < 5 â†’ ç¹¼çºŒ     |
| 2     | 5  | âœ… æ‰¾åˆ°äº†ï¼Œreturn 2 |

- å›å‚³ 2ï¼Œå› ç‚º 5 å·²å­˜åœ¨æ–¼é™£åˆ—ï¼Œä½æ–¼ index 2ã€‚

---

#### ğŸ”¢ ç¯„ä¾‹äºŒï¼štarget ä¸å­˜åœ¨ï¼Œä½†æ‡‰æ’å…¥åœ¨ä¸­é–“

```swift
nums = [1, 3, 5, 6]
target = 2
```

| index | å€¼ | åˆ¤æ–·æ¢ä»¶                |
|-------|----|-------------------------|
| 0     | 1  | 1 < 2 â†’ ç¹¼çºŒ            |
| 1     | 3  | âœ… 3 >= 2 â†’ å›å‚³ index 1 |

- å›å‚³ 1ï¼Œå› ç‚º 2 æ‡‰æ’åœ¨ index 1 çš„ä½ç½®
- é€™æ¨£æ‰æœƒä¿æŒé™£åˆ—æœ‰åº â†’ [1, **2**, 3, 5, 6]

---

#### ğŸ”¢ ç¯„ä¾‹ä¸‰ï¼štarget æ¯”æ‰€æœ‰å…ƒç´ éƒ½å¤§ â†’ æ’åœ¨æœ€å¾Œ

```swift
nums = [1, 3, 5, 6]
target = 7
```

| index | å€¼ | åˆ¤æ–·æ¢ä»¶         |
|-------|----|------------------|
| 0     | 1  | 1 < 7 â†’ ç¹¼çºŒ     |
| 1     | 3  | 3 < 7 â†’ ç¹¼çºŒ     |
| 2     | 5  | 5 < 7 â†’ ç¹¼çºŒ     |
| 3     | 6  | 6 < 7 â†’ ç¹¼çºŒ     |
| â†’     | 7  | âŒ éƒ½æ¯”å®ƒå°       |

- å› ç‚ºéƒ½æ²’é‡åˆ°æ¯” 7 å¤§çš„ï¼Œä»£è¡¨ å®ƒæ‡‰æ’å…¥åœ¨æœ€å¾Œé¢
- æ‰€ä»¥å›å‚³ nums.count = 4ï¼Œæ’å…¥å¾Œæœƒè®Šæˆ [1, 3, 5, 6, **7**]

---

## âœ… Binary Search æ˜¯ä»€éº¼ï¼Ÿ

åœ¨ä¸€å€‹ **å·²æ’åº** çš„é™£åˆ—ä¸­ï¼Œ**æ¯æ¬¡éƒ½å¾ä¸­é–“ä¸€åˆ†ç‚ºäºŒ**ï¼Œé€æ­¥ç¸®å°æœå°‹ç¯„åœã€‚

---

### ğŸ‘€ é‹ä½œæ–¹å¼ï¼š

å‡è¨­åœ¨ä¸€å€‹å‡åºé™£åˆ—ä¸­æ‰¾ `target = 5`ï¼š

```swift
nums = [1, 3, 5, 6]
```
---

#### Binary Search æ­¥é©Ÿèªªæ˜

| æ­¥é©Ÿ | èªªæ˜ |
|------|------|
| 1ï¸âƒ£  | è¨­å®šå…©å€‹æŒ‡æ¨™ `left = 0`ã€`right = nums.count - 1`ï¼ˆä»£è¡¨æœå°‹ç¯„åœï¼‰ |
| 2ï¸âƒ£  | æ¯æ¬¡å–ä¸­é–“ `mid = (left + right) / 2` |
| 3ï¸âƒ£  | æ¯”è¼ƒ `nums[mid]` å’Œ `target`ï¼Œä¾æƒ…æ³èª¿æ•´æœå°‹ç¯„åœ |

---

#### Binary Search åˆ¤æ–·é‚è¼¯å°ç…§è¡¨

| æƒ…æ³               | å‹•ä½œ                              |
|--------------------|-----------------------------------|
| `nums[mid] == target` | âœ… æ‰¾åˆ°äº† â†’ å›å‚³ `mid`             |
| `nums[mid] < target`  | â¡ï¸ ç›®æ¨™åœ¨å³é‚Š â†’ `left = mid + 1`   |
| `nums[mid] > target`  | â¬…ï¸ ç›®æ¨™åœ¨å·¦é‚Š â†’ `right = mid - 1`  |

---

### ğŸ“¦ ç‚ºä»€éº¼é€™éº¼å¿«ï¼Ÿ

å› ç‚º æ¯æ¬¡éƒ½æŠŠæœå°‹ç¯„åœã€Œç åŠã€ï¼Œé€Ÿåº¦æå‡éå¸¸æ˜é¡¯ã€‚

- æ™‚é–“è¤‡é›œåº¦ï¼šO(log n)
- æ¯”èµ·ç·šæ€§æœå°‹çš„ O(n) å¿«å¾—å¤šï¼Œç‰¹åˆ¥é©åˆè³‡æ–™é‡å¤§çš„æƒ…æ³ï¼

---

### ğŸ¯ é©åˆç”¨åœ¨å“ªè£¡ï¼Ÿ

- åœ¨ã€Œå·²æ’åºé™£åˆ—ã€ä¸­å°‹æ‰¾ç‰¹å®šå€¼çš„ä½ç½®
- æˆ–è€…åƒé€™ä¸€é¡Œä¸€æ¨£ï¼Œæ‰¾ æ‡‰è©²æ’å…¥çš„ä½ç½®
- å¸¸ç”¨ä¾†æ‰¾ã€Œç¬¦åˆæ¢ä»¶çš„ç¬¬ä¸€å€‹ä½ç½®ã€

---

## ğŸ’¡ è§£æ³•äºŒï¼šBinary Searchï¼ˆäºŒåˆ†æœå°‹æ³•ï¼‰

### 2â€“1 è§£æ³•æ€è·¯

é€™é¡Œçš„é™£åˆ—æ˜¯ã€Œå‡åºæ’åºã€ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ Binary Searchï¼ˆåˆç¨±äºŒåˆ†æœå°‹æ³•ï¼‰

1. è¨­å®šå·¦å³é‚Šç•Œ `left = 0`ã€`right = nums.count - 1`

2. æ¯æ¬¡å–ä¸­é–“å€¼ midï¼Œåˆ¤æ–· nums[mid] å’Œ target çš„å¤§å°é—œä¿‚ï¼š
    - è‹¥ `nums[mid] == target` â†’ å›å‚³ mid
    - è‹¥ `nums[mid] < target` â†’ ç¹¼çºŒå¾€å³é‚Šæ‰¾ï¼šleft = mid + 1
    - è‹¥ `nums[mid] > target` â†’ å¾€å·¦é‚Šæ‰¾ï¼šright = mid - 1

3. å¦‚æœæ•´å€‹æœå°‹çµæŸä»æ‰¾ä¸åˆ° targetï¼Œleft å°±æœƒè½åœ¨ã€Œæ‡‰è©²æ’å…¥çš„ä½ç½®ã€

---

### 2-2 ç¨‹å¼ç¢¼

```swift
// MARK: - è§£æ³•äºŒï¼šBinary Searchï¼ˆäºŒåˆ†æœå°‹æ³•ï¼‰
// åˆ©ç”¨å·²æ’åºé™£åˆ—ç‰¹æ€§ï¼Œæ¯æ¬¡æŠ˜åŠæŸ¥æ‰¾ï¼Œæé«˜æ•ˆç‡

/// çµ¦å®šå·²æ’åºé™£åˆ— nums èˆ‡ä¸€å€‹ targetï¼Œå›å‚³ target æ‡‰è©²æ’å…¥åœ¨ nums ä¸­çš„ index
func searchInsert(_ nums: [Int], _ target: Int) -> Int {
    
    // åˆå§‹åŒ–å·¦å³é‚Šç•Œ
    var left = 0
    var right = nums.count - 1
    
    // ç•¶ left <= rightï¼Œè¡¨ç¤ºæœå°‹ç¯„åœé‚„æœ‰æ•ˆï¼ŒæŒçºŒæŠ˜åŠæŸ¥æ‰¾
    while left <= right {
        
        // æ¯æ¬¡éƒ½å¾ä¸­é–“é–‹å§‹æ¯”å°ï¼ˆæŠ˜åŠï¼‰
        var mid = (left + right) / 2
        
        // å¦‚æœå‰›å¥½æ‰¾åˆ° targetï¼Œå°±ç›´æ¥å›å‚³ä¸­é–“ä½ç½®
        // æ‰¾åˆ° targetï¼Œç›´æ¥å›å‚³ä½ç½®
        if nums[mid] == target {
            return mid
        }
        // å¦‚æœä¸­é–“æ•¸å°æ–¼ç›®æ¨™ï¼Œä»£è¡¨ç­”æ¡ˆåœ¨å³é‚Šï¼Œå·¦ç•Œå¾€å³ç§»å‹•
        // target åœ¨å³é‚Š â†’ ç¸®å°ç¯„åœ
        else if nums[mid] < target {
            left = mid + 1
        }
        // å¦‚æœä¸­é–“æ•¸å¤§æ–¼ç›®æ¨™ï¼Œä»£è¡¨ç­”æ¡ˆåœ¨å·¦é‚Š â†’ å³ç•Œå¾€å·¦ç§»å‹•
        // target åœ¨å·¦é‚Š â†’ ç¸®å°ç¯„åœ
        else {
            right = mid - 1
        }
    }
    
    // æ²’æ‰¾åˆ° targetï¼Œleft å°±æ˜¯ã€Œæ‡‰æ’å…¥çš„ä½ç½®ã€
    return left
}
```

---

### 2-3 èªæ³•è¤‡ç¿’

- `var left = 0`ã€`var right = nums.count - 1`ï¼š åˆå§‹åŒ–æœå°‹ç¯„åœ
- `(left + right) / 2`ï¼š å–å¾—ä¸­é–“ç´¢å¼•ä½ç½®ï¼Œé€²è¡Œæ¯”è¼ƒ
- `nums[mid] == target`ï¼š æ‰¾åˆ°ç›®æ¨™å€¼ï¼Œç›´æ¥å›å‚³
- `nums[mid] < target`ï¼š ç›®æ¨™å€¼åœ¨å³é‚Š â†’ èª¿æ•´ left = mid + 1
- `nums[mid] > target`ï¼š ç›®æ¨™å€¼åœ¨å·¦é‚Š â†’ èª¿æ•´ right = mid - 1
- `while left <= right`ï¼š åªè¦ç¯„åœå…§é‚„æœ‰å¯èƒ½æ€§ï¼Œå°±ç¹¼çºŒæœå°‹
- `return left`ï¼š æœ€çµ‚æ²’æ‰¾åˆ°æ™‚ï¼Œleft æ˜¯ç›®æ¨™å€¼æ‡‰æ’å…¥çš„ä½ç½®

---

### 2â€“4 åœ–è§£æµç¨‹ç¯„ä¾‹

#### ğŸ”¢ ç¯„ä¾‹ä¸€ï¼štarget å­˜åœ¨æ–¼é™£åˆ—ä¸­

```swift
nums = [1, 3, 5, 6]
target = 5
```

| æ­¥é©Ÿ | `left` | `right` | `mid` | `nums[mid]` | æ¯”è¼ƒ `nums[mid]` vs `target` | å‹•ä½œ              |
|------|--------|---------|-------|-------------|-------------------------------|-------------------|
| 1    | 0      | 3       | 1     | 3           | 3 < 5                         | `left = mid + 1` â†’ 2 |
| 2    | 2      | 3       | 2     | 5           | 5 == 5                        | âœ… æ‰¾åˆ°äº† â†’ å›å‚³ 2 |

- å›å‚³çµæœï¼š2

---

#### ğŸ”¢ ç¯„ä¾‹äºŒï¼štarget ä¸å­˜åœ¨ï¼Œä½†æ‡‰æ’å…¥åœ¨ä¸­é–“

```swift
nums = [1, 3, 5, 6]
target = 2
```

| æ­¥é©Ÿ | `left` | `right` | `mid` | `nums[mid]` | æ¯”è¼ƒ `nums[mid]` vs `target` | å‹•ä½œ                |
|------|--------|---------|-------|-------------|-------------------------------|---------------------|
| 1    | 0      | 3       | 1     | 3           | 3 > 2                         | `right = mid - 1` â†’ 0 |
| 2    | 0      | 0       | 0     | 1           | 1 < 2                         | `left = mid + 1` â†’ 1 |

- left = 1ã€right = 0 â†’ æœå°‹çµæŸ
- å›å‚³çµæœï¼š1ï¼ˆæ‡‰æ’å…¥åœ¨ index 1ï¼‰

---

#### ğŸ”¢ ç¯„ä¾‹ä¸‰ï¼štarget æ¯”æ‰€æœ‰å…ƒç´ éƒ½å¤§ â†’ æ’åœ¨æœ€å¾Œ

```swift
nums = [1, 3, 5, 6]
target = 7
```

| æ­¥é©Ÿ | `left` | `right` | `mid` | `nums[mid]` | æ¯”è¼ƒ `nums[mid]` vs `target` | å‹•ä½œ              |
|------|--------|---------|-------|-------------|-------------------------------|-------------------|
| 1    | 0      | 3       | 1     | 3           | 3 < 7                         | `left = mid + 1` â†’ 2 |
| 2    | 2      | 3       | 2     | 5           | 5 < 7                         | `left = mid + 1` â†’ 3 |
| 3    | 3      | 3       | 3     | 6           | 6 < 7                         | `left = mid + 1` â†’ 4 |

- left = 4ã€right = 3 â†’ æœå°‹çµæŸ
- å›å‚³çµæœï¼š4ï¼ˆæ‡‰æ’å…¥åœ¨é™£åˆ—å°¾ç«¯ï¼‰

---

ğŸ“‚ å›åˆ°ä¸»ç›®éŒ„ï¼š[è¿”å› LeetCode é¡Œè§£ç¸½è¡¨](../README.md)
